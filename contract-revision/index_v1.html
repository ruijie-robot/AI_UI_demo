<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆåŒä¿®è®¢ç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: #e8e8e8;
            height: 100vh;
            overflow: hidden;
        }

        /* Wordé£æ ¼å·¥å…·æ  */
        .toolbar {
            background: #2b579a;
            color: white;
            padding: 8px 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .toolbar-title {
            font-weight: 600;
            font-size: 1.1em;
        }

        .toolbar-actions {
            display: flex;
            gap: 10px;
            margin-left: auto;
        }

        .toolbar-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 6px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background 0.2s;
        }

        .toolbar-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* ä¸»æ–‡æ¡£åŒºåŸŸ */
        .document-container {
            height: calc(100vh - 50px);
            display: flex;
            justify-content: center;
            padding: 30px;
            overflow-y: auto;
            background: #e8e8e8;
        }

        .document-container::-webkit-scrollbar {
            width: 12px;
        }

        .document-container::-webkit-scrollbar-track {
            background: #d0d0d0;
        }

        .document-container::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 6px;
        }

        /* Wordé¡µé¢ */
        .document-page {
            width: 21cm;
            min-height: 29.7cm;
            background: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            padding: 2.54cm 3.17cm;
            margin-bottom: 20px;
        }

        /* æ–‡æ¡£æ ‡é¢˜ */
        .doc-title {
            text-align: center;
            font-size: 22pt;
            font-weight: bold;
            margin-bottom: 30px;
            color: #000;
        }

        .doc-subtitle {
            text-align: center;
            font-size: 14pt;
            margin-bottom: 40px;
            color: #333;
        }

        /* æ®µè½æ ·å¼ */
        .doc-paragraph {
            line-height: 2;
            text-indent: 2em;
            margin-bottom: 15px;
            font-size: 12pt;
            color: #000;
            position: relative;
        }

        .doc-section {
            font-weight: bold;
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 14pt;
            color: #000;
        }

        .doc-clause {
            margin-bottom: 20px;
        }

        .clause-title {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 12pt;
        }

        /* æ‰¹æ³¨æ ·å¼ */
        .comment-marker {
            background: #fff3cd;
            border-bottom: 2px solid #ffc107;
            cursor: pointer;
            position: relative;
            padding: 2px 4px;
        }

        .comment-marker:hover {
            background: #ffe69c;
        }

        .comment-box {
            position: absolute;
            right: -280px;
            top: -10px;
            width: 260px;
            background: #fff9e6;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 100;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .comment-header {
            font-weight: 600;
            color: #856404;
            margin-bottom: 8px;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .comment-content {
            color: #333;
            line-height: 1.5;
            margin-bottom: 10px;
            font-size: 0.9em;
        }

        .comment-suggestion {
            background: white;
            padding: 8px;
            border-radius: 4px;
            margin-bottom: 10px;
            border-left: 3px solid #28a745;
            font-size: 0.9em;
        }

        .comment-actions {
            display: flex;
            gap: 8px;
        }

        .btn-accept {
            flex: 1;
            padding: 8px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.85em;
            transition: background 0.2s;
        }

        .btn-accept:hover {
            background: #218838;
        }

        .btn-reject {
            flex: 1;
            padding: 8px;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.85em;
            transition: background 0.2s;
        }

        .btn-reject:hover {
            background: #c82333;
        }

        .comment-meta {
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px solid #e0e0e0;
            font-size: 0.75em;
            color: #666;
        }

        /* åˆ é™¤çº¿æ ·å¼ */
        .strikethrough {
            text-decoration: line-through;
            color: #dc3545;
            background: #ffe6e6;
        }

        /* æ’å…¥æ ·å¼ */
        .insertion {
            background: #d4edda;
            color: #155724;
            text-decoration: underline;
        }

        /* å·²æ¥å—æ ·å¼ */
        .accepted {
            background: transparent;
            border-bottom: none;
            cursor: default;
        }

        /* å·²æ‹’ç»æ ·å¼ */
        .rejected {
            opacity: 0.3;
            pointer-events: none;
        }

        /* ç»Ÿè®¡æ  */
        .stats-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 10px 30px;
            box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 30px;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
        }

        .stat-label {
            color: #666;
        }

        .stat-value {
            font-weight: 700;
            font-size: 1.1em;
        }

        .stat-value.pending {
            color: #ffc107;
        }

        .stat-value.accepted {
            color: #28a745;
        }

        .stat-value.rejected {
            color: #dc3545;
        }

        @media print {
            .toolbar,
            .stats-bar,
            .comment-box {
                display: none;
            }

            .document-container {
                padding: 0;
                background: white;
            }

            .document-page {
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <!-- Wordé£æ ¼å·¥å…·æ  -->
    <div class="toolbar">
        <div class="toolbar-title">ğŸ“„ è¡ç”Ÿå“äº¤æ˜“åˆåŒ.docx</div>
        <div class="toolbar-actions">
            <button class="toolbar-btn" onclick="acceptAll()">âœ“ æ¥å—å…¨éƒ¨</button>
            <button class="toolbar-btn" onclick="rejectAll()">âœ— æ‹’ç»å…¨éƒ¨</button>
            <button class="toolbar-btn" onclick="window.print()">ğŸ–¨ï¸ æ‰“å°</button>
        </div>
    </div>

    <!-- æ–‡æ¡£å®¹å™¨ -->
    <div class="document-container">
        <div class="document-page">
            <div class="doc-title">è¡ç”Ÿå“äº¤æ˜“ä¸»åè®®</div>
            <div class="doc-subtitle">ï¼ˆåœºå¤–é‡‘èè¡ç”Ÿå“äº¤æ˜“æ¡†æ¶åè®®ï¼‰</div>

            <div class="doc-paragraph">
                æœ¬åè®®ç”±ä»¥ä¸‹åŒæ–¹äº2024å¹´12æœˆ20æ—¥åœ¨ä¸­åäººæ°‘å…±å’Œå›½ä¸Šæµ·å¸‚ç­¾ç½²ï¼š
            </div>

            <div class="doc-paragraph">
                <strong>ç”²æ–¹ï¼š</strong>XXèµ„äº§ç®¡ç†æœ‰é™å…¬å¸<br>
                <strong>ä¹™æ–¹ï¼š</strong>XXè¯åˆ¸è‚¡ä»½æœ‰é™å…¬å¸
            </div>

            <div class="doc-section">ç¬¬ä¸€æ¡ å®šä¹‰ä¸è§£é‡Š</div>

            <div class="doc-clause">
                <div class="clause-title">1.1 è¡ç”Ÿå“äº¤æ˜“</div>
                <div class="doc-paragraph">
                    æœ¬åè®®é¡¹ä¸‹çš„"è¡ç”Ÿå“äº¤æ˜“"æ˜¯æŒ‡åŒæ–¹æ ¹æ®æœ¬åè®®åŠç›¸å…³äº¤æ˜“ç¡®è®¤ä¹¦è¿›è¡Œçš„
                    <span class="comment-marker" onclick="showComment(this, 1)">å„ç±»åœºå¤–é‡‘èè¡ç”Ÿå“äº¤æ˜“</span>ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºåˆ©ç‡äº’æ¢ã€è´§å¸äº’æ¢ã€è¿œæœŸå¤–æ±‡äº¤æ˜“ã€æœŸæƒäº¤æ˜“ç­‰ã€‚
                </div>
            </div>

            <div class="doc-clause">
                <div class="clause-title">1.2 äº¤æ˜“ç¡®è®¤ä¹¦</div>
                <div class="doc-paragraph">
                    "äº¤æ˜“ç¡®è®¤ä¹¦"æ˜¯æŒ‡åŒæ–¹å°±å…·ä½“è¡ç”Ÿå“äº¤æ˜“è¾¾æˆä¸€è‡´åç­¾ç½²çš„ä¹¦é¢æ–‡ä»¶ï¼Œåº”åŒ…å«äº¤æ˜“ç±»å‹ã€åä¹‰æœ¬é‡‘ã€æœŸé™ã€
                    <span class="comment-marker" onclick="showComment(this, 2)">å®šä»·æ–¹å¼ã€ç»“ç®—æ–¹å¼</span>ç­‰æ ¸å¿ƒè¦ç´ ã€‚
                </div>
            </div>

            <div class="doc-section">ç¬¬äºŒæ¡ äº¤æ˜“æ¡æ¬¾</div>

            <div class="doc-clause">
                <div class="clause-title">2.1 äº¤æ˜“æˆæƒ</div>
                <div class="doc-paragraph">
                    åŒæ–¹ç¡®è®¤ï¼Œå„è‡ªå·²è·å¾—å……åˆ†æˆæƒè®¢ç«‹æœ¬åè®®åŠè¿›è¡Œæœ¬åè®®é¡¹ä¸‹çš„è¡ç”Ÿå“äº¤æ˜“ï¼Œ
                    <span class="comment-marker" onclick="showComment(this, 3)">ä¸”è¯¥ç­‰äº¤æ˜“å·²è·å¾—å¿…è¦çš„å†…éƒ¨å®¡æ‰¹</span>ã€‚
                </div>
            </div>

            <div class="doc-clause">
                <div class="clause-title">2.2 äº¤æ˜“é™é¢</div>
                <div class="doc-paragraph">
                    åŒæ–¹åŒæ„ï¼Œ
                    <span class="comment-marker" onclick="showComment(this, 4)">å•ç¬”äº¤æ˜“çš„åä¹‰æœ¬é‡‘ä¸å¾—è¶…è¿‡äººæ°‘å¸5äº¿å…ƒ</span>ï¼Œ
                    å…¨éƒ¨æœªå¹³ä»“äº¤æ˜“çš„åä¹‰æœ¬é‡‘æ€»é¢ä¸å¾—è¶…è¿‡äººæ°‘å¸20äº¿å…ƒã€‚
                </div>
            </div>

            <div class="doc-section">ç¬¬ä¸‰æ¡ ä¿è¯é‡‘ä¸æ‹…ä¿</div>

            <div class="doc-clause">
                <div class="clause-title">3.1 åˆå§‹ä¿è¯é‡‘</div>
                <div class="doc-paragraph">
                    ä¹™æ–¹æœ‰æƒè¦æ±‚ç”²æ–¹åœ¨äº¤æ˜“å¼€å§‹æ—¶æä¾›åˆå§‹ä¿è¯é‡‘ï¼Œ
                    <span class="comment-marker" onclick="showComment(this, 5)">åˆå§‹ä¿è¯é‡‘æ¯”ä¾‹ä¸ä½äºåä¹‰æœ¬é‡‘çš„10%</span>ï¼Œ
                    å…·ä½“æ¯”ä¾‹æ ¹æ®äº¤æ˜“ç±»å‹å’Œå¸‚åœºæƒ…å†µç”±åŒæ–¹åå•†ç¡®å®šã€‚
                </div>
            </div>

            <div class="doc-clause">
                <div class="clause-title">3.2 è¿½åŠ ä¿è¯é‡‘</div>
                <div class="doc-paragraph">
                    å½“å¸‚åœºä»·å€¼å˜åŠ¨å¯¼è‡´ä¿è¯é‡‘ä¸è¶³æ—¶ï¼Œç”²æ–¹åº”åœ¨æ¥åˆ°é€šçŸ¥å
                    <span class="comment-marker" onclick="showComment(this, 6)">2ä¸ªå·¥ä½œæ—¥å†…</span>
                    è¿½åŠ ä¿è¯é‡‘è‡³è¦æ±‚æ°´å¹³ã€‚
                </div>
            </div>

            <div class="doc-section">ç¬¬å››æ¡ è¿çº¦äº‹ä»¶</div>

            <div class="doc-clause">
                <div class="clause-title">4.1 è¿çº¦æƒ…å½¢</div>
                <div class="doc-paragraph">
                    ä»¥ä¸‹ä»»ä¸€æƒ…å½¢å‘ç”Ÿï¼Œå³æ„æˆè¿çº¦äº‹ä»¶ï¼š<br>
                    (a) æœªæŒ‰æ—¶æ”¯ä»˜åˆ°æœŸæ¬¾é¡¹ï¼›<br>
                    (b)
                    <span class="comment-marker" onclick="showComment(this, 7)">æœªåœ¨è§„å®šæœŸé™å†…æä¾›æˆ–è¿½åŠ ä¿è¯é‡‘</span>ï¼›<br>
                    (c) è¿åé™ˆè¿°ä¸ä¿è¯ï¼›<br>
                    (d) ç ´äº§ã€æ¸…ç®—æˆ–ä¸§å¤±æ¸…å¿èƒ½åŠ›ã€‚
                </div>
            </div>

            <div class="doc-clause">
                <div class="clause-title">4.2 è¿çº¦æ•‘æµ</div>
                <div class="doc-paragraph">
                    è¿çº¦äº‹ä»¶å‘ç”Ÿåï¼Œå®ˆçº¦æ–¹æœ‰æƒï¼š<br>
                    (a) ç«‹å³ç»ˆæ­¢å…¨éƒ¨æˆ–éƒ¨åˆ†æœªå¹³ä»“äº¤æ˜“ï¼›<br>
                    (b) è¦æ±‚è¿çº¦æ–¹æ”¯ä»˜
                    <span class="comment-marker" onclick="showComment(this, 8)">è¿çº¦é‡‘</span>ï¼›<br>
                    (c) æ‰£åˆ’ä¿è¯é‡‘æŠµå¿æŸå¤±ã€‚
                </div>
            </div>

            <div class="doc-section">ç¬¬äº”æ¡ ç»ˆæ­¢ä¸ç»“ç®—</div>

            <div class="doc-clause">
                <div class="clause-title">5.1 æå‰ç»ˆæ­¢</div>
                <div class="doc-paragraph">
                    å‘ç”Ÿè¿çº¦äº‹ä»¶æˆ–ç»ˆæ­¢äº‹ä»¶æ—¶ï¼Œå®ˆçº¦æ–¹å¯æå‰ç»ˆæ­¢äº¤æ˜“ã€‚ç»ˆæ­¢æ—¥ä¸ºå®ˆçº¦æ–¹å‘å‡ºç»ˆæ­¢é€šçŸ¥ä¹‹æ—¥èµ·
                    <span class="comment-marker" onclick="showComment(this, 9)">5ä¸ªå·¥ä½œæ—¥å</span>ã€‚
                </div>
            </div>

            <div class="doc-clause">
                <div class="clause-title">5.2 å‡€é¢ç»“ç®—</div>
                <div class="doc-paragraph">
                    äº¤æ˜“ç»ˆæ­¢åï¼ŒåŒæ–¹åº”é‡‡ç”¨å‡€é¢ç»“ç®—æ–¹å¼ï¼Œ
                    <span class="comment-marker" onclick="showComment(this, 10)">ç”±äºæŸæ–¹å‘ç›ˆåˆ©æ–¹æ”¯ä»˜å‡€é¢å·®é¢</span>ã€‚
                    å‡€é¢è®¡ç®—åº”ç”±ç‹¬ç«‹ç¬¬ä¸‰æ–¹ä¼°å€¼æœºæ„æŒ‰ç…§å¸‚åœºå…¬å…ä»·å€¼ç¡®å®šã€‚
                </div>
            </div>

            <div class="doc-section">ç¬¬å…­æ¡ å…¶ä»–æ¡æ¬¾</div>

            <div class="doc-clause">
                <div class="clause-title">6.1 é€‚ç”¨æ³•å¾‹</div>
                <div class="doc-paragraph">
                    æœ¬åè®®é€‚ç”¨ä¸­åäººæ°‘å…±å’Œå›½æ³•å¾‹ï¼Œå¹¶æŒ‰å…¶è§£é‡Šã€‚
                </div>
            </div>

            <div class="doc-clause">
                <div class="clause-title">6.2 äº‰è®®è§£å†³</div>
                <div class="doc-paragraph">
                    å› æœ¬åè®®å¼•èµ·çš„äº‰è®®ï¼ŒåŒæ–¹åº”å‹å¥½åå•†è§£å†³ï¼›åå•†ä¸æˆçš„ï¼Œæäº¤ä¸Šæµ·å›½é™…ç»æµè´¸æ˜“ä»²è£å§”å‘˜ä¼šä»²è£ã€‚
                </div>
            </div>

            <div class="doc-paragraph" style="margin-top: 60px;">
                <strong>ç”²æ–¹ï¼ˆç›–ç« ï¼‰ï¼š</strong>___________________<br><br>
                <strong>æˆæƒä»£è¡¨ç­¾å­—ï¼š</strong>___________________<br><br>
                <strong>æ—¥æœŸï¼š</strong>___________________
            </div>

            <div class="doc-paragraph" style="margin-top: 40px;">
                <strong>ä¹™æ–¹ï¼ˆç›–ç« ï¼‰ï¼š</strong>___________________<br><br>
                <strong>æˆæƒä»£è¡¨ç­¾å­—ï¼š</strong>___________________<br><br>
                <strong>æ—¥æœŸï¼š</strong>___________________
            </div>
        </div>
    </div>

    <!-- ç»Ÿè®¡æ  -->
    <div class="stats-bar">
        <div class="stat-item">
            <span class="stat-label">å¾…å¤„ç†æ‰¹æ³¨ï¼š</span>
            <span class="stat-value pending" id="pendingCount">10</span>
        </div>
        <div class="stat-item">
            <span class="stat-label">å·²æ¥å—ï¼š</span>
            <span class="stat-value accepted" id="acceptedCount">0</span>
        </div>
        <div class="stat-item">
            <span class="stat-label">å·²æ‹’ç»ï¼š</span>
            <span class="stat-value rejected" id="rejectedCount">0</span>
        </div>
    </div>

    <script>
        // æ‰¹æ³¨æ•°æ®
        const comments = {
            1: {
                author: 'AIåˆè§„åŠ©æ‰‹',
                content: 'å»ºè®®æ˜ç¡®å…·ä½“åŒ…å«çš„è¡ç”Ÿå“ç±»å‹ï¼Œé¿å…èŒƒå›´è¿‡äºå®½æ³›ã€‚',
                suggestion: 'å»ºè®®ä¿®æ”¹ä¸ºï¼šã€ŒåŒ…æ‹¬åˆ©ç‡äº’æ¢ã€è´§å¸äº’æ¢ã€å•†å“æœŸæƒã€è‚¡æŒ‡æœŸæƒï¼Œä½†ä¸åŒ…æ‹¬ä¿¡ç”¨è¿çº¦äº’æ¢(CDS)ã€',
                type: 'compliance'
            },
            2: {
                author: 'AIåˆè§„åŠ©æ‰‹',
                content: 'ç¼ºå°‘ä¼°å€¼æ–¹æ³•çš„çº¦å®šï¼Œå¯èƒ½å¯¼è‡´äº‰è®®ã€‚',
                suggestion: 'å»ºè®®æ·»åŠ ï¼šã€Œä¼°å€¼æ–¹æ³•ã€ä¼°å€¼é¢‘ç‡ï¼ˆæ¯æ—¥/æ¯å‘¨ï¼‰ã€',
                type: 'risk'
            },
            3: {
                author: 'AIåˆè§„åŠ©æ‰‹',
                content: 'åº”æ˜ç¡®å†…éƒ¨å®¡æ‰¹æµç¨‹å’Œå®¡æ‰¹æƒé™ã€‚',
                suggestion: 'å»ºè®®ä¿®æ”¹ä¸ºï¼šã€Œä¸”è¯¥ç­‰äº¤æ˜“å·²è·å¾—è‘£äº‹ä¼šï¼ˆæˆ–æŠ•èµ„å†³ç­–å§”å‘˜ä¼šï¼‰çš„ä¹¦é¢æ‰¹å‡†ã€',
                type: 'compliance'
            },
            4: {
                author: 'AIåˆè§„åŠ©æ‰‹',
                content: 'é™é¢è®¾ç½®åé«˜ï¼Œå»ºè®®é™ä½é£é™©æ•å£ã€‚',
                suggestion: 'å»ºè®®ä¿®æ”¹ä¸ºï¼šã€Œå•ç¬”äº¤æ˜“ä¸è¶…è¿‡3äº¿å…ƒï¼Œæ€»é¢ä¸è¶…è¿‡10äº¿å…ƒã€',
                type: 'risk'
            },
            5: {
                author: 'AIåˆè§„åŠ©æ‰‹',
                content: 'åˆå§‹ä¿è¯é‡‘æ¯”ä¾‹åä½ï¼Œæ— æ³•æœ‰æ•ˆè¦†ç›–å¸‚åœºé£é™©ã€‚',
                suggestion: 'å»ºè®®ä¿®æ”¹ä¸ºï¼šã€Œåˆå§‹ä¿è¯é‡‘æ¯”ä¾‹ä¸ä½äºåä¹‰æœ¬é‡‘çš„15%-20%ã€',
                type: 'risk'
            },
            6: {
                author: 'AIåˆè§„åŠ©æ‰‹',
                content: 'è¿½åŠ ä¿è¯é‡‘æ—¶é™è¿‡é•¿ï¼Œåº”ç¼©çŸ­ä»¥æ§åˆ¶é£é™©ã€‚',
                suggestion: 'å»ºè®®ä¿®æ”¹ä¸ºï¼šã€Œ1ä¸ªå·¥ä½œæ—¥å†…ã€æˆ–ã€Œå½“æ—¥æ”¶ç›˜å‰ã€',
                type: 'risk'
            },
            7: {
                author: 'AIåˆè§„åŠ©æ‰‹',
                content: 'åº”æ˜ç¡®"è§„å®šæœŸé™"çš„å…·ä½“æ—¶é—´ã€‚',
                suggestion: 'å»ºè®®ä¿®æ”¹ä¸ºï¼šã€Œæœªåœ¨è¦æ±‚çš„æ—¶é™ï¼ˆåˆå§‹ä¿è¯é‡‘ä¸ºäº¤æ˜“æ—¥å½“æ—¥ï¼Œè¿½åŠ ä¿è¯é‡‘ä¸º1ä¸ªå·¥ä½œæ—¥ï¼‰å†…æä¾›æˆ–è¿½åŠ ä¿è¯é‡‘ã€',
                type: 'compliance'
            },
            8: {
                author: 'AIåˆè§„åŠ©æ‰‹',
                content: 'è¿çº¦é‡‘æ¡æ¬¾è¿‡äºç¬¼ç»Ÿï¼Œåº”æ˜ç¡®è®¡ç®—æ–¹å¼ã€‚',
                suggestion: 'å»ºè®®ä¿®æ”¹ä¸ºï¼šã€Œè¿çº¦é‡‘ä¸ºæœªå±¥çº¦é‡‘é¢çš„3%-5%ï¼Œæˆ–å®é™…æŸå¤±ï¼Œä»¥è¾ƒé«˜è€…ä¸ºå‡†ã€',
                type: 'legal'
            },
            9: {
                author: 'AIåˆè§„åŠ©æ‰‹',
                content: 'ç»ˆæ­¢ç”Ÿæ•ˆæœŸè¿‡é•¿ï¼Œå¯èƒ½æ‰©å¤§æŸå¤±ã€‚',
                suggestion: 'å»ºè®®ä¿®æ”¹ä¸ºï¼šã€Œ2ä¸ªå·¥ä½œæ—¥åã€',
                type: 'risk'
            },
            10: {
                author: 'AIåˆè§„åŠ©æ‰‹',
                content: 'åº”æ˜ç¡®ä¼°å€¼æ—¶ç‚¹å’Œä¼°å€¼æ–¹æ³•ã€‚',
                suggestion: 'å»ºè®®ä¿®æ”¹ä¸ºï¼šã€Œç”±äºæŸæ–¹å‘ç›ˆåˆ©æ–¹æ”¯ä»˜å‡€é¢å·®é¢ï¼Œå‡€é¢ä»¥ç»ˆæ­¢æ—¥å¸‚åœºæ”¶ç›˜ä»·æŒ‰ç…§Black-Scholesæ¨¡å‹æˆ–è¡Œä¸šæ ‡å‡†ä¼°å€¼æ–¹æ³•è®¡ç®—ã€',
                type: 'compliance'
            }
        };

        let currentComment = null;
        let stats = {
            pending: 10,
            accepted: 0,
            rejected: 0
        };

        // æ˜¾ç¤ºæ‰¹æ³¨
        function showComment(element, commentId) {
            // ç§»é™¤ä¹‹å‰çš„æ‰¹æ³¨æ¡†
            const existingBoxes = document.querySelectorAll('.comment-box');
            existingBoxes.forEach(box => box.remove());

            // å¦‚æœç‚¹å‡»åŒä¸€ä¸ªï¼Œåˆ™å…³é—­
            if (currentComment === commentId) {
                currentComment = null;
                return;
            }

            currentComment = commentId;
            const comment = comments[commentId];

            const commentBox = document.createElement('div');
            commentBox.className = 'comment-box';
            commentBox.innerHTML = `
                <div class="comment-header">
                    ğŸ’¬ ${comment.author} Â· ${comment.type === 'compliance' ? 'åˆè§„å»ºè®®' : comment.type === 'risk' ? 'é£é™©æç¤º' : 'æ³•å¾‹å»ºè®®'}
                </div>
                <div class="comment-content">${comment.content}</div>
                ${comment.suggestion ? `<div class="comment-suggestion">âœï¸ ${comment.suggestion}</div>` : ''}
                <div class="comment-actions">
                    <button class="btn-accept" onclick="acceptComment(${commentId}, this)">âœ“ æ¥å—</button>
                    <button class="btn-reject" onclick="rejectComment(${commentId}, this)">âœ— æ‹’ç»</button>
                </div>
                <div class="comment-meta">æ‰¹æ³¨ID: #${commentId} | é£é™©ç­‰çº§: ${comment.type === 'risk' ? 'é«˜' : 'ä¸­'}</div>
            `;

            element.appendChild(commentBox);

            // ç‚¹å‡»æ–‡æ¡£å…¶ä»–åœ°æ–¹å…³é—­æ‰¹æ³¨
            setTimeout(() => {
                document.addEventListener('click', closeCommentOnClickOutside);
            }, 0);
        }

        // ç‚¹å‡»å¤–éƒ¨å…³é—­æ‰¹æ³¨
        function closeCommentOnClickOutside(e) {
            if (!e.target.closest('.comment-marker') && !e.target.closest('.comment-box')) {
                const boxes = document.querySelectorAll('.comment-box');
                boxes.forEach(box => box.remove());
                currentComment = null;
                document.removeEventListener('click', closeCommentOnClickOutside);
            }
        }

        // æ¥å—æ‰¹æ³¨
        function acceptComment(commentId, btn) {
            const marker = document.querySelectorAll('.comment-marker')[commentId - 1];
            marker.classList.add('accepted');
            marker.classList.add('insertion');

            const box = btn.closest('.comment-box');
            box.remove();

            stats.pending--;
            stats.accepted++;
            updateStats();

            currentComment = null;
        }

        // æ‹’ç»æ‰¹æ³¨
        function rejectComment(commentId, btn) {
            const marker = document.querySelectorAll('.comment-marker')[commentId - 1];
            marker.classList.add('rejected');

            const box = btn.closest('.comment-box');
            box.remove();

            stats.pending--;
            stats.rejected++;
            updateStats();

            currentComment = null;
        }

        // æ¥å—å…¨éƒ¨
        function acceptAll() {
            if (!confirm('ç¡®å®šæ¥å—æ‰€æœ‰æ‰¹æ³¨ä¿®æ”¹å»ºè®®å—ï¼Ÿ')) return;

            const markers = document.querySelectorAll('.comment-marker:not(.accepted):not(.rejected)');
            markers.forEach(marker => {
                marker.classList.add('accepted');
                marker.classList.add('insertion');
            });

            stats.accepted += stats.pending;
            stats.pending = 0;
            updateStats();

            const boxes = document.querySelectorAll('.comment-box');
            boxes.forEach(box => box.remove());
        }

        // æ‹’ç»å…¨éƒ¨
        function rejectAll() {
            if (!confirm('ç¡®å®šæ‹’ç»æ‰€æœ‰æ‰¹æ³¨ä¿®æ”¹å»ºè®®å—ï¼Ÿ')) return;

            const markers = document.querySelectorAll('.comment-marker:not(.accepted):not(.rejected)');
            markers.forEach(marker => {
                marker.classList.add('rejected');
            });

            stats.rejected += stats.pending;
            stats.pending = 0;
            updateStats();

            const boxes = document.querySelectorAll('.comment-box');
            boxes.forEach(box => box.remove());
        }

        // æ›´æ–°ç»Ÿè®¡
        function updateStats() {
            document.getElementById('pendingCount').textContent = stats.pending;
            document.getElementById('acceptedCount').textContent = stats.accepted;
            document.getElementById('rejectedCount').textContent = stats.rejected;
        }
    </script>
</body>
</html>
